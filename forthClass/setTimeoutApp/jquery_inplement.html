<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        div#nav {
            width: 910px;
            margin: 0 auto;
            position: relative;
        }
        ul {
            background-color: #2e3033;
            color: white;
            padding: 0;
            text-align: center;
        }
        a {
            text-decoration: none;
            color: white;
        }
        ul,li {
            margin: 0;
        }
        li {
            list-style-type: none;
            display: inline-block;
            padding: 10px 15px;
        }
        .subnav {
            display: none;
            position: absolute;
            top: 60px;
            background-color: #2e3033;
            height: 30px;
        }
        .arrow {
            position: absolute;
            width: 0;
            height: 0;
            border-width: 10px;
            border-color: transparent transparent #2e3033;
            border-style: solid;
            display: block;
            top: -20px;
        }
        .subnav > div {
            padding: 5px 10px;
        }
    </style>
</head>
<body>
<div id="nav">
    <ul>
        <li>
            <a href="#">站长之家</a>
        </li>
        <li>
            <a href="#">站长之家</a>
            <div class="subnav">
                <span class="arrow"></span>
                <div>
                    <a href="#">业界动态</a>|
                    <a href="#">收购融资</a>|
                    <a href="#">门户动态</a>|
                    <a href="#">搜索引擎</a>|
                    <a href="#">网络游戏</a>|
                    <a href="#">电子商务</a>|
                    <a href="#">广告传媒</a>|
                    <a href="#">厂商开发</a>
                </div>
            </div>
        </li>

        <li>
            <a href="#">站长在线</a>
            <div class="subnav">
                <span class="arrow"></span>
                <div>
                    <a href="#">站长报道</a>|
                    <a href="#">好站推荐</a>|
                    <a href="#">站长聚会</a>|
                    <a href="#">站长访谈</a>|
                    <a href="#">站长茶馆</a>|
                    <a href="#">网站排行</a>
                </div>
            </div>
        </li>

        <li>
            <a href="#">网页运营</a>
            <div class="subnav">
                <span class="arrow"></span>
                <div>
                    <a href="#">建站经验</a>|
                    <a href="#">策划盈利</a>|
                    <a href="#">搜索优化</a>|
                    <a href="#">网站推广</a>|
                    <a href="#">免费资源</a>
                </div>
            </div>
        </li>

        <li>
            <a href="#">设计在线</a>
            <div class="subnav">
                <span class="arrow"></span>
                <div>
                    <a href="#">酷站推荐</a>|
                    <a href="#">网页设计</a>|
                    <a href="#">WEB标准</a>|
                    <a href="#">视频处理</a>|
                    <a href="#">设计活动</a>
                </div>
            </div>
        </li>

        <li>
            <a href="#">网络编程</a>
            <div class="subnav">
                <span class="arrow"></span>
                <div>
                    <a href="#">Asp编程</a>|
                    <a href="#">Php编程</a>|
                    <a href="#">.Net编程</a>|
                    <a href="#">Xml编程</a>|
                    <a href="#">Access</a>|
                    <a href="#">Mssql</a>|
                    <a href="#">Mysql</a>
                </div>
            </div>
        </li>

        <li>
            <a href="#">联盟资讯</a>
            <div class="subnav">
                <span class="arrow"></span>
                <div>
                    <a href="#">联盟动态</a>|
                    <a href="#">联盟介绍</a>|
                    <a href="#">联盟点评</a>|
                    <a href="#">网赚技巧</a>
                </div>
            </div>
        </li>

        <li>
            <a href="#">服务器</a>
            <div class="subnav">
                <span class="arrow"></span>
                <div>
                    <a href="#">Web服务器</a>|
                    <a href="#">Ftp服务器</a>|
                    <a href="#">Mail服务器</a>|
                    <a href="#">Dns服务器</a>|
                    <a href="#">Win服务器</a>|
                    <a href="#">Linux服务器</a>|
                    <a href="#">安全防护</a>|
                    <a href="#">虚拟主机</a>
                </div>
            </div>
        </li>
    </ul>
</div>
<script>
    var get = {
        byId: function(id) {
            return document.getElementById(id)
        },
        byClass: function(sClass, oParent) {
            var aClass = [];
            var reClass = new RegExp("(^| )" + sClass + "( |$)");
            var aElem = this.byTagName("*", oParent);
            for (var i = 0; i < aElem.length; i++) reClass.test(aElem[i].className) && aClass.push(aElem[i]);
            return aClass
        },
        byTagName: function(elem, obj) {
            return (obj || document).getElementsByTagName(elem)
        }
    };
    window.onload = function ()
    {
        var oNav = get.byId("nav");
        var aLi = get.byTagName("li", oNav);
        var aSubNav = get.byClass("subnav", oNav);
        var oSubNav = oEm = timer = null;
        var i = 0;

        for (i = 1; i < aLi.length; i++)
        {
            aLi[i].onmouseover = function ()
            {
                //隐藏所有子菜单
                for (i = 0; i < aSubNav.length; i++)aSubNav[i].style.display = "none";

                //获取该项下的子菜单
                oSubNav = get.byClass("subnav", this)[0];

                //获取该项下的指示箭头
                oEm = get.byTagName("span", this)[0];

                //显示该项下的子菜单
                oSubNav.style.display = "block";

                //判断显示区域
                if(oNav.offsetWidth - this.offsetLeft > oSubNav.offsetWidth){
                    //如果在显示范围居左显示
                    oSubNav.style.left = this.offsetLeft + "px";
                } else {
                    //超出显示范围居右显示
                    oSubNav.style.right = 0;
                }


                //计算指标箭头显示位置
                oEm.style.left = this.offsetLeft - oSubNav.offsetLeft + 50 + "px";
                clearTimeout(timer);

                //阻止事件冒泡
                oSubNav.onmouseover = function (event)
                {
                    (event || window.event).cancelBubble = true;
                    clearTimeout(timer)
                }
            };

            aLi[i].onmouseout = function ()
            {
                timer = setTimeout(function () {
                    oSubNav.style.display = "none"
                },300)
            }
        }
    };
</script>
</body>
</html>